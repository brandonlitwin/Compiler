<!DOCTYPE HTML>
<html>
<head>
    <title>Brandon Litwin's Compiler</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<!--link rel="stylesheet" href="dist/styles/bootstrap.min.css"-->
    <link rel="stylesheet" type="text/css" href="dist/styles/compiler.css" />
	<link rel="stylesheet" href="codemirror/plugin/lib/codemirror.css">
</head>
<body onload="init();">
	<!--Loading JQuery-->
	<script type="text/javascript" src="codemirror/js/jquery.min.js"></script>
	<script type="text/javascript" src="codemirror/plugin/lib/codemirror.js"></script>
	<!--script type="text/javascript" src="codemirror/js/default.js"></script-->
	<h1>Project One Compiler</h1>

    <div>
        <div class="source">
			<h2>Input</h2>
			<textarea id="taSourceCode" class="codemirror-textarea"></textarea><br>
			<div style="text-align:left;">
				<input type="button" id="btnCompile" value="Compile" onclick="btnCompile_click();"/>
			</div> 
			<h2>Output</h2>
            <textarea id="taOutput"></textarea>
        </div>        
	</div>
	<script type="text/javascript" src="dist/scripts/lexer.js"></script>	
    <script type="text/javascript" src="dist/scripts/globals.js"></script>	
    <script type="text/javascript">
		 function init() {
	        // Clear the message box.
	        document.getElementById("taOutput").value = "";
	        // Set the initial values for our globals.
	        tokens = "";
	        tokenIndex = 0;
	        currentToken = ' ';
	        errorCount = 0;        
	    }
    
	    function btnCompile_click() {        
	        // This is executed as a result of the user pressing the 
	        // "compile" button between the two text areas, above.  
			// Note the <input> element's event handler: onclick="btnCompile_click();
	        init();
			putMessage("Compilation Started");
			var code = document.getElementById("taSourceCode");
    		var editor = CodeMirror.fromTextArea(code, {
        		lineNumbers: true
			});
			tokens = editor.getValue();

	        // Grab the tokens from the lexer . . .
			_Lexer.lex();
	        putMessage("Lex returned [" + tokens + "]");
	      
	    }
    
	    function putMessage(msg) {
	        document.getElementById("taOutput").value += msg + "\n";
	    }
    
    
	 	
	</script>
	
</body>
</html>
